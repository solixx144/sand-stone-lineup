<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mini Oyun Profesyonel</title>
<style>
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family:Arial, sans-serif; background:#fff; color:#000; display:flex; flex-direction:column; min-height:100vh; }
/* Header */
header { display:flex; justify-content:space-between; align-items:center; background:#222; color:#fff; padding:10px 20px; flex-shrink:0; }
header h1 { font-size:1.3rem; cursor:pointer; }
header button { font-size:1rem; cursor:pointer; padding:5px 10px; }
/* Main */
main { flex:1; display:flex; justify-content:center; align-items:center; padding:20px; }
canvas { border:2px solid #000; max-width:100%; height:auto; background:#eee; }
/* Ayarlar Popup */
#settingsPopup { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; border:2px solid #000; padding:20px; z-index:50; }
#settingsPopup button { margin:5px; cursor:pointer; }
/* Video/GÃ¶rsel overlay */
.video-container { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); justify-content:center; align-items:center; z-index:40; }
.video-container iframe, .video-container img { width:80%; height:80%; }
/* Tutorial */
.tutorial { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#f2f2f2; border:2px solid #000; padding:20px; z-index:60; display:none; }
.tutorial button { margin:5px; }
/* Reklam */
.ad { position:absolute; background:rgba(255,255,0,0.7); color:#000; font-weight:bold; text-align:center; line-height:50px; cursor:pointer; border:1px solid #000; }
/* Responsive */
@media(max-width:1024px){ main{flex-direction:column;} }
@media(max-width:768px){ header h1{font-size:1rem;} header button{font-size:0.9rem;} }
@media(max-width:480px){ header{flex-direction:column;align-items:flex-start;} header h1{margin-bottom:5px;} }
</style>
</head>
<body>

<header>
    <h1 id="sandStoneTitle">Sand Stone</h1>
    <button id="settingsBtn">â˜° Ayarlar</button>
</header>

<main>
    <canvas id="gameCanvas"></canvas>
</main>

<!-- Video / GÃ¶rsel Container -->
<div class="video-container" id="videoContainer">
    <iframe id="videoPlayer" src="" frameborder="0" allowfullscreen></iframe>
    <img id="fullImage" src="" style="display:none; max-width:90%; max-height:90%;">
</div>

<!-- Tutorial -->
<div class="tutorial" id="tutorial">
    <h2>NasÄ±l OynanÄ±r?</h2>
    <p>Mini mapte kÄ±rmÄ±zÄ± noktalarÄ± tÄ±klayÄ±n. Video yoksa "YakÄ±nda Gelecek ðŸš€" gÃ¶receksiniz.</p>
    <p>Sol Ã¼stten ayarlara girip tema deÄŸiÅŸtirebilirsiniz.</p>
    <button id="closeTutorial">Tamam</button>
</div>

<!-- Ayarlar Popup -->
<div id="settingsPopup">
    <h2>Ayarlar & Haritalar</h2>
    <p>Tema SeÃ§imi:</p>
    <button id="themeLight">ðŸŒž Beyaz Tema</button>
    <button id="themeDark">ðŸŒ™ Siyah Tema</button>
    <br><br>
    <p>Haritalar:</p>
    <button class="mapBtn">Dune</button>
    <button class="mapBtn">Rust</button>
    <button class="mapBtn">Zone 7</button>
    <button class="mapBtn">Hanami</button>
    <button class="mapBtn">Province</button>
    <button class="mapBtn">Breeze</button>
    <br><br>
    <button id="reportError">Hata Bildir</button>
    <br><br>
    <button id="closeSettings">Kapat</button>
</div>

<script>
// Tutorial
const tutorial = document.getElementById('tutorial');
const closeTutorial = document.getElementById('closeTutorial');
tutorial.style.display='block';
closeTutorial.addEventListener('click',()=>tutorial.style.display='none');

// Canvas
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
function resizeCanvas(){ canvas.width=window.innerWidth*0.8; canvas.height=window.innerHeight*0.6; drawMap(currentMap); }
window.addEventListener('resize',resizeCanvas);

// Mini map
const miniMapImg=new Image();
miniMapImg.src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGnQmTu2-0yu6rQSVa_4l7w18-6h8tYl3hQRy7deax1w&s=10';

// Map ve zigzag noktalarÄ±
const map1=[{x:100,y:150,width:50,height:50,videoUrl:''},{x:400,y:300,width:50,height:50,videoUrl:'https://www.youtube.com/embed/dQw4w9WgXcQ'}];
const zigzagSpots=[{x:300,y:200,radius:10,videoUrl:'',color:'red'},{x:500,y:150,radius:10,videoUrl:'https://www.youtube.com/embed/dQw4w9WgXcQ',color:'orange'},{x:200,y:350,radius:10,videoUrl:'',color:'purple'}];
let currentMap=map1;

// Reklamlar
const ads=[{x:0,y:10,width:100,height:50,link:'https://www.tiktok.com/@solixx144',text:'REKLAM'},{x:0,y:70,width:100,height:50,link:'https://www.example.com',text:'LINK'}];

// Harita Ã§izimi
function drawMap(mapSpots){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    if(miniMapImg.complete){ ctx.drawImage(miniMapImg,0,0,canvas.width,canvas.height); }
    mapSpots.forEach(spot=>{ ctx.beginPath(); ctx.arc(spot.x+spot.width/2,spot.y+spot.height/2,10,0,Math.PI*2); ctx.fillStyle='red'; ctx.fill(); });
    zigzagSpots.forEach(spot=>{ ctx.beginPath(); ctx.arc(spot.x,spot.y,spot.radius,0,Math.PI*2); ctx.fillStyle=spot.color; ctx.fill(); });
    drawAds();
}
function drawAds(){ ads.forEach(ad=>{ ad.x = canvas.width - ad.width - 10; ctx.fillStyle='rgba(255,255,0,0.7)'; ctx.fillRect(ad.x,ad.y,ad.width,ad.height); ctx.fillStyle='#000'; ctx.font='14px Arial'; ctx.fillText(ad.text,ad.x+15,ad.y+30); }); }

// Video / GÃ¶rsel aÃ§ma
const videoContainer=document.getElementById('videoContainer');
const videoPlayer=document.getElementById('videoPlayer');
const fullImage=document.getElementById('fullImage');
function openVideo(url){ 
    if(!url){ alert('YakÄ±nda Gelecek ðŸš€'); return; }
    videoPlayer.style.display='block';
    fullImage.style.display='none';
    videoPlayer.src=url;
    videoContainer.style.display='flex';
}
videoContainer.addEventListener('click',()=>{
    videoContainer.style.display='none';
    videoPlayer.src='';
});

// Canvas tÄ±klama
canvas.addEventListener('click',e=>{
    const mouseX=e.offsetX;
    const mouseY=e.offsetY;
    let clicked=false;
    currentMap.forEach(spot=>{ if(mouseX>=spot.x && mouseX<=spot.x+spot.width && mouseY>=spot.y && mouseY<=spot.y+spot.height){ openVideo(spot.videoUrl); clicked=true; } });
    zigzagSpots.forEach(spot=>{ const dx=mouseX-spot.x, dy=mouseY-spot.y; if(Math.sqrt(dx*dx+dy*dy)<=spot.radius){ openVideo(spot.videoUrl); clicked=true; } });
    ads.forEach(ad=>{ if(mouseX>=ad.x && mouseX<=ad.x+ad.width && mouseY>=ad.y && mouseY<=ad.y+ad.height){ window.open(ad.link,'_blank'); clicked=true; } });
    if(!clicked && currentMap===map1){ alert('YakÄ±nda Gelecek ðŸš€'); }
});

// Ayarlar ve haritalar
const settingsBtn=document.getElementById('settingsBtn');
const settingsPopup=document.getElementById('settingsPopup');
const closeSettings=document.getElementById('closeSettings');
const themeLight=document.getElementById('themeLight');
const themeDark=document.getElementById('themeDark');
const reportError=document.getElementById('reportError');

settingsBtn.addEventListener('click',()=>settingsPopup.style.display='block');
closeSettings.addEventListener('click',()=>settingsPopup.style.display='none');
themeLight.addEventListener('click',()=>{ document.body.style.backgroundColor='#fff'; document.body.style.color='#000'; settingsPopup.style.backgroundColor='#fff'; settingsPopup.style.color='#000'; });
themeDark.addEventListener('click',()=>{ document.body.style.backgroundColor='#222'; document.body.style.color='#fff'; settingsPopup.style.backgroundColor='#333'; settingsPopup.style.color='#fff'; });
reportError.addEventListener('click',()=>{ window.open('https://www.tiktok.com/@solixx144','_blank'); alert("Hata bildirmek iÃ§in TikTok DM atabilirsiniz!"); });

// Haritalar menÃ¼sÃ¼ (YakÄ±nda)
document.querySelectorAll('.mapBtn').forEach(btn=>btn.addEventListener('click',()=>{ alert('YakÄ±nda Gelecek ðŸš€'); }));

// Sand Stone baÅŸlÄ±ÄŸÄ±
const sandStoneTitle = document.getElementById('sandStoneTitle');
sandStoneTitle.addEventListener('click',()=>{
    videoPlayer.style.display='none';
    fullImage.style.display='block';
    fullImage.src=miniMapImg.src;
    videoContainer.style.display='flex';
});

// BaÅŸlangÄ±Ã§
resizeCanvas();
</script>
</body>
</html>