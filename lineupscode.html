<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sand Stone Mini Oyun</title>
<style>
* { box-sizing:border-box; margin:0; padding:0; }
body { font-family:Arial, sans-serif; background:#fff; color:#000; display:flex; flex-direction:column; min-height:100vh; }

header { display:flex; justify-content:space-between; align-items:center; background:#222; color:#fff; padding:10px 20px; flex-shrink:0; }
header h1 { font-size:1.3rem; cursor:pointer; }
header button { font-size:1rem; cursor:pointer; padding:5px 10px; }

main { flex:1; display:flex; flex-direction:column; justify-content:center; align-items:center; padding:20px; }

#miniMapContainer { position:relative; display:inline-block; margin-bottom:10px; }
#miniMap { width:90%; max-width:800px; display:block; border:2px solid #000; border-radius:10px; cursor:pointer; }

#miniAd { position:absolute; top:5px; left:50%; transform:translateX(-50%); background:rgba(255,255,0,0.8); padding:5px 10px; border:1px solid #000; cursor:pointer; font-weight:bold; }

#reportError, #adminLoginBtn { margin-top:10px; padding:5px 10px; cursor:pointer; }

#settingsPopup { display:none; position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; border:2px solid #000; padding:20px; z-index:50; }
#settingsPopup button { margin:5px; cursor:pointer; }

.tutorial { position:fixed; top:50%; left:50%; transform:translate(-50%,-50%); background:#f2f2f2; border:2px solid #000; padding:20px; z-index:60; display:none; }
.tutorial button { margin:5px; }

@media(max-width:768px){ header h1{font-size:1rem;} header button{font-size:0.9rem;} }
@media(max-width:480px){ header{flex-direction:column;align-items:flex-start;} header h1{margin-bottom:5px;} }
</style>
</head>
<body>

<header>
    <h1 id="sandStoneTitle">Sand Stone</h1>
    <button id="settingsBtn">â˜° Ayarlar</button>
</header>

<main>
    <div id="miniMapContainer">
        <img id="miniMap" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGnQmTu2-0yu6rQSVa_4l7w18-6h8tYl3hQRy7deax1w&s=10">
        <div id="miniAd">REKLAM</div>
    </div>
    <button id="reportError">Hata Bildir</button>
    <button id="adminLoginBtn">Admin GiriÅŸi</button>
</main>

<div class="tutorial" id="tutorial">
    <h2>NasÄ±l OynanÄ±r?</h2>
    <p>Mini map Ã¼zerindeki noktalara tÄ±klayÄ±nca farklÄ± linkler aÃ§Ä±lacak.</p>
    <p>Mini map Ã¼zerindeki boÅŸ alan veya reklam tÄ±klanÄ±nca ana link aÃ§Ä±lacak.</p>
    <p>Sol Ã¼stten ayarlara girip tema deÄŸiÅŸtirebilirsiniz.</p>
    <button id="closeTutorial">Tamam</button>
</div>

<div id="settingsPopup">
    <h2>Ayarlar & Haritalar</h2>
    <p>Tema SeÃ§imi:</p>
    <button id="themeLight">ðŸŒž Beyaz Tema</button>
    <button id="themeDark">ðŸŒ™ Siyah Tema</button>
    <br><br>
    <p>Haritalar:</p>
    <button class="mapBtn">Dune</button>
    <button class="mapBtn">Rust</button>
    <button class="mapBtn">Zone 7</button>
    <button class="mapBtn">Hanami</button>
    <button class="mapBtn">Province</button>
    <button class="mapBtn">Breeze</button>
    <br><br>
    <button id="closeSettings">Kapat</button>
</div>

<script>
// Tutorial
const tutorial = document.getElementById('tutorial');
tutorial.style.display='block';
document.getElementById('closeTutorial').addEventListener('click',()=>tutorial.style.display='none');

// Mini map ve reklam
const miniMap = document.getElementById('miniMap');
const miniAd = document.getElementById('miniAd');
const reportError = document.getElementById('reportError');
let mapSpots = JSON.parse(localStorage.getItem('mapSpots')) || [
    {x:0.2, y:0.3, link:'https://www.youtube.com/embed/dQw4w9WgXcQ'},
    {x:0.5, y:0.5, link:'https://www.tiktok.com/@solixx144'},
    {x:0.7, y:0.2, link:'https://www.example.com'}
];

// TÄ±klama kontrolÃ¼
miniMap.addEventListener('click', (e) => {
    const rect = miniMap.getBoundingClientRect();
    const clickX = (e.clientX - rect.left) / rect.width;
    const clickY = (e.clientY - rect.top) / rect.height;

    let clickedSpot = false;
    mapSpots.forEach(spot => {
        const radius = 0.05;
        if(Math.abs(clickX - spot.x) < radius && Math.abs(clickY - spot.y) < radius){
            window.open(spot.link,'_blank');
            clickedSpot = true;
        }
    });

    if(!clickedSpot) window.open('https://www.tiktok.com/@solixx144','_blank');
});

miniAd.addEventListener('click',()=>window.open('https://www.tiktok.com/@solixx144','_blank'));
reportError.addEventListener('click',()=>{
    window.open('https://www.tiktok.com/@solixx144','_blank');
    alert("Hata bildirmek iÃ§in TikTok DM atabilirsiniz!");
});

document.getElementById('sandStoneTitle').addEventListener('click',()=>miniMap.scrollIntoView({behavior:'smooth', block:'center'}));

// Ayarlar paneli
const settingsBtn = document.getElementById('settingsBtn');
const settingsPopup = document.getElementById('settingsPopup');
settingsBtn.addEventListener('click',()=>settingsPopup.style.display='block');
document.getElementById('closeSettings').addEventListener('click',()=>settingsPopup.style.display='none');

// Tema
document.getElementById('themeLight').addEventListener('click',()=>{
    document.body.style.backgroundColor='#fff';
    document.body.style.color='#000';
    settingsPopup.style.backgroundColor='#fff';
    settingsPopup.style.color='#000';
});
document.getElementById('themeDark').addEventListener('click',()=>{
    document.body.style.backgroundColor='#222';
    document.body.style.color='#fff';
    settingsPopup.style.backgroundColor='#333';
    settingsPopup.style.color='#fff';
});

// Haritalar menÃ¼sÃ¼ (ÅŸimdilik YakÄ±nda)
document.querySelectorAll('.mapBtn').forEach(btn=>{
    btn.addEventListener('click',()=>{ alert('YakÄ±nda Gelecek ðŸš€'); });
});

// Admin mod
let adminMode = false;
document.getElementById('adminLoginBtn').addEventListener('click', ()=>{
    const pwd = prompt("Admin ÅŸifresini gir:");
    if(pwd === "solixx123"){
        adminMode = true;
        alert("Admin modu aÃ§Ä±ldÄ±! ArtÄ±k noktalar ekleyebilirsiniz.");
        showAdminPanel();
    } else {
        alert("YanlÄ±ÅŸ ÅŸifre!");
    }
});

function showAdminPanel(){
    const panel = document.createElement('div');
    panel.style.position='fixed';
    panel.style.bottom='10px';
    panel.style.right='10px';
    panel.style.background='rgba(0,0,0,0.8)';
    panel.style.color='#fff';
    panel.style.padding='10px';
    panel.style.zIndex='100';
    panel.innerHTML = `
        <h4>Yeni Nokta Ekle</h4>
        X (0-1): <input type="number" id="newX" step="0.01" min="0" max="1"><br>
        Y (0-1): <input type="number" id="newY" step="0.01" min="0" max="1"><br>
        Link: <input type="text" id="newLink"><br>
        <button id="addSpot">Ekle</button>
    `;
    document.body.appendChild(panel);

    document.getElementById('addSpot').addEventListener('click', ()=>{
        const x = parseFloat(document.getElementById('newX').value);
        const y = parseFloat(document.getElementById('newY').value);
        const link = document.getElementById('newLink').value;
        if(!isNaN(x) && !isNaN(y) && link){
            mapSpots.push({x,y,link});
            localStorage.setItem('mapSpots', JSON.stringify(mapSpots));
            alert("Yeni nokta eklendi ve kaydedildi!");
        } else {
            alert("LÃ¼tfen geÃ§erli deÄŸerler girin.");
        }
    });
}
</script>

</body>
</html>